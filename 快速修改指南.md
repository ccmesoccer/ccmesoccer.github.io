# 化院足球队主页项目快速修改指南



本指南旨在帮助开发者快速熟悉这个项目，并且在没有（或只有很少）编程基础的情况下快速修改网页的关键内容。



## 项目结构

项目可以大致分为前端和数据库两部分。前端包括主页(index)、“球队成员”(players)、“比赛日程”(schedule)、“数据统计”(statistics)四个页面，以及相应的css代码(css)和javascript代码(js)；数据库包括图片(img)、附属于主页的新闻部分(news)、以及各子页面中的data文件夹。



下面介绍如何快速修改页面的可变部分。



## 主页

  1.下场比赛预告

​     在index.html中最后一部分javascript代码中直接修改文本信息。

  2.球队动态

​     这里默认只显示最新的三条动态。在/news/news.xml的顶部新增条目，注意"id"属性在脚本中并没有被用到，但还是保留下来以备不时之需。

  3.关于我们

​     三个带图标的超链接，直接看代码吧，很清楚，重点看超链接、图片链接、文本三个部分就行了。



## “球队成员”页面

​     见/players/文件夹。

  1.在数据库中新增球员

​     在网页中实际只用到了xml数据库，csv文件仅仅是为了增强可读性而设计的，但存在着通过编写python脚本将csv文件与xml文件连接起来的可能。

​     首先需要为球员指定唯一的球员id，详见playerid编码指南.md；

​     然后将球员信息录入到csv文件和xml文件中，参考已有的元素即可。xml数据库中各标签的意义：name - 姓名；grade - 年级（入学年份）；pos - 身份，0-2分别代表本科生、研究生、博士后，3是李晨老师（特聘研究员），如有需要可以继续加到4、5之类；status - 当前状况，0代表活跃（正常），1代表不活跃，9代表已经毕业；grad - 毕业去向；portrait - 头像，详见后。

  2.有新的年级出现的时候，需要修改/players/index.html，以新增"21级"为例

​     div id="contents"  新增一行"<div id = "ug_21" class= "content"></div>"；

​     script 新增一行 “var playersList_21 = [];”；

​     下面的switch代码块  新增一个"case 21"的分支；

​     script脚本最后  新增一行"document.getElementById('ug_21').innerHTML=ug(playersList_21);"。

  3.更换头像

​     选择合适的头像图片，最好是正方形或圆形（网页自动裁剪），注意控制文件大小避免影响网页加载，重命名为player id.png（注意后缀），放进/img/players/文件夹中；然后在/players/data/playerlist.xml中，将相应球员的portrait标签的内容修改为player id。



## “比赛日程”页面

​     这是编程难度最大的一部分，但某种程度上也算是“一劳永逸”了，见/schedule/文件夹。

  1.新增比赛

​     同上条，xlsx文档仅是为了方便查看，实际只用到了xml数据库。参考现有信息直接新增条目即可，match id请参考相应编码指南。



## “数据统计”页面

​     见/statistics/文件夹。

  1.新增球员

​     这里用到的数据库和players数据库有共同之处，但请注意两者并非同一数据库，也没法自动同步更新，所以请注意对其中一个进行修改的时候保持两者的同步。

  2.修改已有数据

​     在/statistics/data/stat.xml中直接修改相应数字，这一步极容易混淆，建议做好备份、做好校对，最好想办法编写python脚本实现（封凡已经编写了将文本的比赛信息转换为xsl文件的脚本，可询问黄志贤）。

  3.修改显示的截止日期

​     在/statistics/index.html的# page_sub_title中，直接修改即可。



作者： Yufei

最后修改时间：23/10/2021
